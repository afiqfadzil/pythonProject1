<WindowManager>:
    MaintenanceWindow:
    TitleWindow:
    ConnectionWindow:
    MainWindow:
    TestWindow:
    ResultWindow:
    LoadingWindow:
    ControlScreen:






<Label>:
    size_hint : 0.15,0.035
    font_name: "meiryo.ttc"
    font_size : '14sp'
<TextInput>:
    font_size : '20sp'



<Button>:
    size_hint : 0.1,0.035

<ControlScreen>
    name : "control"

<MainWindow>:
    name : "main"



    FloatLayout:


        Label :
            text : "年齢:"
            pos_hint : {"x":0.25,"y":0.75}


        TextInput :
            id : age
            multiline : False
            size_hint : 0.5,0.040
            pos_hint : {"x":0.45,"y":0.75}

        Label :
            text : "身長:"
            pos_hint : {"x":0.25,"y":0.65}

        TextInput :
            id : ht
            multiline : False
            size_hint : 0.5,0.040
            pos_hint : {"x":0.45,"y":0.65}

        Label:
            text:"性別:"
            pos_hint : {"x":0.25,"y":0.55}
        Label:
            text:"男性"
            pos_hint : {"x":0.4,"y":0.55}
        CheckBox:
            id: male_gender
            group: "gender"
            active: False
            pos_hint: {"x":0.45,"y":0.55}
            size_hint : 0.15,0.035
        Label:
            text:"女性"
            pos_hint : {"x":0.55,"y":0.55}
        CheckBox:
            id: female_gender
            group: "gender"
            active: False
            pos_hint: {"x":0.60,"y":0.55}
            size_hint : 0.15,0.035
        Label:
            text:"他の"
            pos_hint : {"x":0.70,"y":0.55}
        CheckBox:
            id: other_gender
            group: "gender"
            active: False
            pos_hint: {"x":0.75,"y":0.55}
            size_hint : 0.15,0.035






        Label :
            id : error_label_main
            text : "Comment"
            pos_hint : {"x":0.25,"y":0.2}
        Button :
            pos_hint : {"x":0.45,"y":0.3}
            text : "Start"
            on_release :
                root.data_call()





<TestWindow>:
    name : "test"
    Label :
        id : test2_label
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.40}
        text :"Under Construction"
    Button :
        text : "成功"
        pos_hint : {"center_x" : 0.25 , "center_y" : 0.25}
        on_release :
            root.passed()
            root.rating_func()
            root.next_screen_loading()
            root.next_screen_result()




    Button :
        text : "失敗"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.25}
        on_release :
            root.failed()
            root.rating_func()
            root.next_screen_loading()
            root.next_screen_result()

    Button :
        text : "やり直し"
        pos_hint : {"center_x" : 0.75 , "center_y" : 0.25}




<ResultWindow>:
    name : "result"
    Label :
        id:result_label_comment
        text : "You Old"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.5}
    Label :
        id:result_label_age
        text : "You Old"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.45}
    Label :
        id:result_label_rage
        text : "You Old"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.40}


    Button :
        text : "End"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.25}
        on_release :
            app.root.current = "main"
            root.manager.transition.direction = "up"

<TitleWindow>:
    name : "title"
    Label :
        id:title_label
        text : "WELCOME!"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.5}




    Button :
        text : "Proceed"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.25}
        on_release :
            root.connection()

    Button :
        text : "Maintenance"
        pos_hint : {"" : 0.1 , "center_y" : 0.980}
        size_hint : 0.2,0.035
        on_release :
            app.root.current = "maintenance"
            root.manager.transition.direction = "up"




<LoadingWindow>:
    name : "loading"
    on_enter:
        root.enable_load_button()
    Label :
        id:loading_label
        text : "Wait while the chair is being set up"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.5}

    Button :
        id : load_button
        text : "Proceed"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.25}
        disabled : True
        on_release :
            root.disable_load_button()
            app.root.current = "test"
            root.manager.transition.direction = "up"



<ConnectionWindow>
    name : "connect"
    Label :
        id:connect_label
        text : "Server is not available, please reconfigure the device..."
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.5}
    Button :
        id : connect_return
        text : "Return"
        pos_hint : {"center_x" : 0.25 , "center_y" : 0.25}
        disabled : False
        on_release :
            root.top()
    Button :
        id : recon_button
        text : "Proceed"
        pos_hint : {"center_x" : 0.75 , "center_y" : 0.25}
        disabled : False
        on_release :
            root.reconnect()

<MaintenanceWindow>

    name : "maintenance"
    Button :
        id : maintenance_return
        text : "戻る"
        pos_hint : {"center_x" : 0.05 , "center_y" : 0.980}
        on_release :
            app.root.current = "title"
            root.manager.transition.direction = "down"
    Label :
        id: maintenance_title
        font_size : '25sp'
        text : "メンテナンス画面"
        underline : True
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.9}
    Button :
        id : maintenance_button_start
        font_size : '14sp'
        size_hint :0.25 ,0.035
        text : "座面高さ校正開始➡"
        pos_hint : {"center_x" : 0.15 , "center_y" : 0.85}
        on_release:
            root.enable_test()

    Label :
        font_size : '14sp'
        text : "1)手動で座面高さを10㎝に合わせる"
        pos_hint : {"center_x" : 0.215 , "center_y" : 0.80}
    Label :
        font_size : '14sp'
        text : "現在の座面高さ＿＿＿＿＿㎝\n座面の測定高さ＿＿＿＿＿㎝"
        pos_hint : {"center_x" : 0.315 , "center_y" : 0.75}

    Button :
        id : maintenance_button_1
        font_size : '14sp'
        size_hint :0.20 ,0.035
        text : "測定開始"
        pos_hint : {"center_x" : 0.6 , "center_y" : 0.75}
        disabled : True
        on_release:
            root.test_1()


    Label :
        font_size : '14sp'
        text : "2)手動で座面高さを40㎝に合わせる"
        pos_hint : {"center_x" : 0.215 , "center_y" : 0.60}
    Label :
        font_size : '14sp'
        text : "現在の座面高さ＿＿＿＿＿㎝\n座面の測定高さ＿＿＿＿＿㎝"
        pos_hint : {"center_x" : 0.315 , "center_y" : 0.55}

    Button :
        id : maintenance_button_2
        font_size : '14sp'
        size_hint :0.20 ,0.035
        text : "測定開始"
        pos_hint : {"center_x" : 0.6 , "center_y" : 0.55}
        disabled : True
        on_release:
            root.test_2()

    Label :
        font_size : '14sp'
        text : "座面高さ校正結果:"
        pos_hint : {"center_x" : 0.315 , "center_y" : 0.35}

    Label :
        font_size : '14sp'
        text : "テスト1：＿＿＿＿\nテスト2：＿＿＿＿"
        pos_hint : {"center_x" : 0.53 , "center_y" : 0.340}


    Button :
        id : maintenance_end
        font_size : '14sp'
        size_hint :0.20 ,0.035
        text : "測定終了"
        pos_hint : {"center_x" : 0.5 , "center_y" : 0.2}
        disabled : True
        on_release:
            root.test_end()
            app.root.current = "title"
